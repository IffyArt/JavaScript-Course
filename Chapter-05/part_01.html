<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible"
				content="IE=edge">
	<meta name="viewport"
				content="width=device-width, initial-scale=1.0">
	<title>API 串接展示</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		.container {
			margin: 2rem auto;
			width: 80%;
		}

		.todo-list li {
			display: flex;
			align-items: center;
		}

		.todo-list li:nth-child(2n) {
			background-color: #dddddf;
		}

		.todo-list li>* {
			flex: 1;
			padding: 10px 20px;
		}

		.todo-list li>*:nth-child(3) {
			flex: 5;
		}

		.todo-list__header {
			height: 40px;
		}
	</style>
</head>

<body>

	<main>
		<section class="container">
			<h1>什麼是 API ?</h1>

			<p>API 是 Application Programming Interface 的縮寫，中文得直譯是「應用程式介面」。單看起來是一個非常抽象的字串，但其實在實際應用程面並沒有那麼難以理解，以下讓我們繼續看下去： <a
					 href="https://www.youtube.com/watch?v=zvKadd9Cflc&t=122s">介紹影片</a></p>
			<p>API
				的基礎概念其實可以理解成橋樑，它連接了用戶端的伺服器端的資料傳輸，並且美化了其中的過程，以現實的範例舉例，您可以把它想成餐廳裡負責與您溝通的服務員，你的任務是負責給他菜單等需求，而他則是會跑去跟後廚的窗口確認內容無誤，並端回你所期望的餐點
			</p>
		</section>
		<section class="container">
			<ul class="todo-list">
				<li class="todo-list__header">
					<span class="todo-list__id">ID</span>
					<span class="todo-list__user">使用者 ID</span>
					<span class="todo-list__title">標題</span>
					<span class="todo-list__completed">完成狀態</span>
				</li>
			</ul>
		</section>
	</main>

	<script>
		const todoList = document.querySelector('.todo-list')

		// const demoData = { userId: 2, id: 10, title: "第二筆測試資料", completed: false };

		// // 單純的 DOM 控制

		// const init = data => {
		// 	let parent = document.createElement("li")

		// 	let id = document.createElement("span")
		// 	id.classList = 'todo-list__id'
		// 	id.append(data.id)

		// 	let userId = document.createElement("span")
		// 	userId.classList = 'todo-list__user'
		// 	userId.append(data.userId)

		// 	let title = document.createElement("h4")
		// 	title.classList = 'todo-list__title'
		// 	title.append(data.title)

		// 	let completed = document.createElement("div")
		// 	completed.classList = 'todo-list__completed'
		// 	completed.append(data.completed)

		// 	parent.append(id, userId, title, completed)

		// 	todoList.append(parent)
		// }

		// init(demoData, 222)

		// 	使用外部檔案操作 JSON

		// fetch('assets/json/todo.json')
		// 	.then(response => response.json())
		// 	.then(json => {
		// 		let data = json[0]

		// 		let parent = document.createElement("li")

		// 		let id = document.createElement("span")
		// 		id.classList = 'todo-list__id'
		// 		id.append(data.id + '-' + data.content)

		// 		let userId = document.createElement("span")
		// 		userId.classList = 'todo-list__user'
		// 		userId.append(data.userId)

		// 		let title = document.createElement("h1")
		// 		title.classList = 'todo-list__title'
		// 		title.append(data.title)

		// 		let completed = document.createElement("div")
		// 		completed.classList = 'todo-list__completed'
		// 		completed.append(data.completed)

		// 		parent.append(id, userId, title, completed)

		// 		todoList.append(parent)
		// 	})


		// 測試用 API 連結 - https://jsonplaceholder.typicode.com/
		// const API_URL = 'https://jsonplaceholder.typicode.com/'

		// fetch(`${API_URL}comments?postId=1`)
		// 	.then(response => response.json())
		// 	.then(json => console.log(json))

		// 單個項目顯示
		// fetch('https://jsonplaceholder.typicode.com/todos/2')
		// 	.then((response) => {
		// 		console.table(response)
		// 		return response.json()
		// 	}).then((data) => {
		// 		console.table(data)

		// 		let parent = document.createElement("li")

		// 		let id = document.createElement("span")
		// 		id.classList = 'todo-list__id'
		// 		id.append(data.id)

		// 		let userId = document.createElement("span")
		// 		userId.classList = 'todo-list__user'
		// 		userId.append(data.userId)

		// 		let title = document.createElement("h1")
		// 		title.classList = 'todo-list__title'
		// 		title.append(data.title)

		// 		let completed = document.createElement("div")
		// 		completed.classList = 'todo-list__completed'
		// 		completed.append(data.completed)

		// 		parent.append(id, userId, title, completed)

		// 		todoList.append(parent)
		// 	})

		// 多個項目顯示

		// fetch('https://jsonplaceholder.typicode.com/posts')
		// 	.then(response => response.json())
		// 	.then((data) => {
		// 		console.table(data);

		// 		data.forEach((item, index) => {
		// 			console.log(index);
		// 			let parent = document.createElement("li")

		// 			let id = document.createElement("span")
		// 			id.classList = 'todo-list__id'
		// 			id.append(item.id)

		// 			let userId = document.createElement("span")
		// 			userId.classList = 'todo-list__user'
		// 			userId.append(item.userId)

		// 			let title = document.createElement("h1")
		// 			title.classList = 'todo-list__title'
		// 			title.append(item.title)

		// 			let completed = document.createElement("div")
		// 			completed.classList = 'todo-list__completed'
		// 			completed.append(item.body)

		// 			parent.append(id, userId, title, completed)

		// 			todoList.append(parent)
		// 		})

		// 	})

		// 台灣 Open Data 平台：https://data.gov.tw/
		// 台北 Open Data 平台： https://data.taipei/#/
		// 即時水位： https://data.gov.tw/dataset/25768

		// fetch('https://data.taipei/api/v1/dataset/98425449-a03c-4bf6-a54c-5831a2e4d470?scope=resourceAquire')
		// 	.then(response => response.json())
		// 	.then(json => console.log(json))

	</script>
</body>

</html>
